within Mostar.Models.AVR_IGLim_Capacitive;
model Model_AVR
  Data2Model.IG_Lim_Capacitive.init machineData
    annotation (Placement(transformation(extent={{-108,76},{-88,96}})));
  inner OpenIPSL.Electrical.SystemBase SysData(S_b=30000000,
                                                       fn=50) annotation (Placement(transformation(extent={{-64,74},
            {-4,94}})));
  Modelica.Blocks.Discrete.Sampler Efdsampler(samplePeriod=0.05)
    annotation (Placement(transformation(extent={{-2,28},{18,48}})));
  Modelica.Blocks.Math.Feedback Efd_error
    annotation (Placement(transformation(extent={{24,28},{44,48}})));
  Modelica.Blocks.Sources.CombiTimeTable Efd_real(
    tableOnFile=false,
    startTime=0,
    columns={2},
    smoothness=Modelica.Blocks.Types.Smoothness.ContinuousDerivative,
    extrapolation=Modelica.Blocks.Types.Extrapolation.HoldLastPoint,
    table=[0,0.332057384; 0.05,0.335697162; 0.1,0.350442378; 0.15,0.349996418; 0.2,
        0.342878899; 0.25,0.336664802; 0.3,0.339254138; 0.35,0.350998936; 0.4,0.332935992;
        0.45,0.347805864; 0.5,0.335645617; 0.55,0.337152775; 0.6,0.349500511; 0.65,
        0.334549115; 0.7,0.35123797; 0.75,0.343148925; 0.8,0.335426018; 0.85,0.353246574;
        0.9,0.336938927; 0.95,0.342168931; 1,0.338523935; 1.05,0.346871132; 1.1,
        0.336411763; 1.15,0.335107909; 1.2,0.340328009; 1.25,0.337255226; 1.3,0.334887299;
        1.35,0.339683697; 1.4,0.331547792; 1.45,0.320730377; 1.5,0.345237135; 1.55,
        0.343057283; 1.6,0.335107909; 1.65,0.336858095; 1.7,0.332598606; 1.75,0.334464769;
        1.8,0.351523385; 1.85,0.329193124; 1.9,0.33645745; 1.95,0.337494207; 2,0.335867026;
        2.05,0.349710365; 2.1,0.324525961; 2.15,0.334450711; 2.2,0.333761883; 2.25,
        0.331691883; 2.3,0.342048908; 2.35,0.323524349; 2.4,0.328743277; 2.45,0.330894108;
        2.5,0.331572393; 2.55,0.338854291; 2.6,0.332953564; 2.65,0.32915798; 2.7,
        0.341708008; 2.75,0.339458773; 2.8,0.332317452; 2.85,0.326820884; 2.9,0.327506198;
        2.95,0.341697465; 3,0.339645038; 3.05,0.334510456; 3.1,0.325253448; 3.15,
        0.332921934; 3.2,0.335613987; 3.25,0.338499334; 3.3,0.334197672; 3.35,0.340467148;
        3.4,0.336917308; 3.45,0.334338249; 3.5,0.337926482; 3.55,0.34054207; 3.6,
        0.340331577; 3.65,0.338208808; 3.7,0.358087914; 3.75,0.33575105; 3.8,0.341544587;
        3.85,0.333898945; 3.9,0.334687509; 3.95,0.339195191; 4,0.327144211; 4.05,
        0.342564944; 4.1,0.339462288; 4.15,0.337620727; 4.2,0.344322744; 4.25,0.327956045;
        4.3,0.346756966; 4.35,0.331916807; 4.4,0.338893802; 4.45,0.339219792; 4.5,
        0.324965265; 4.55,0.34433808; 4.6,0.331431816; 4.65,0.330085203; 4.7,0.333758368;
        4.75,0.325502973; 4.8,0.349282883; 4.85,0.333905974; 4.9,0.340734724; 4.95,
        0.329938183; 5,0.329249355; 5.05,0.345604606; 5.1,0.337297399; 5.15,0.336895902;
        5.2,0.343389077; 5.25,0.330732444; 5.3,0.330591867; 5.35,0.338003799; 5.4,
        0.330932767; 5.45,0.345408383; 5.5,0.341289791; 5.55,0.330120933; 5.6,0.33494976;
        5.65,0.341084357; 5.7,0.328890883; 5.75,0.335392578; 5.8,0.334444907; 5.85,
        0.331010084; 5.9,0.342176067; 5.95,0.32474737; 6,0.331554821; 6.05,0.334236331;
        6.1,0.33241937; 6.15,0.337532866; 6.2,0.346621394; 6.25,0.329495365; 6.3,
        0.341117584; 6.35,0.341022695; 6.4,0.346157596; 6.45,0.338836719; 6.5,0.33516414;
        6.55,0.345904291; 6.6,0.338249809; 6.65,0.344973127; 6.7,0.339209249; 6.75,
        0.34200125; 6.8,0.350338915; 6.85,0.337852679; 6.9,0.344437975; 6.95,0.335417179;
        7,0.340128219; 7.05,0.353414255; 7.1,0.338355242; 7.15,0.335800252; 7.2,
        0.335244972; 7.25,0.339643015; 7.3,0.344449264; 7.35,0.340411184; 7.4,0.335831882;
        7.45,0.342133254; 7.5,0.338569143; 7.55,0.333023852; 7.6,0.350278265; 7.65,
        0.332749727; 7.7,0.337677224; 7.75,0.323605181; 7.8,0.336411763; 7.85,0.337891338;
        7.9,0.34519789; 7.95,0.341883517; 8,0.32844455; 8.05,0.344111878; 8.1,0.337223596;
        8.15,0.336643715; 8.2,0.331052257; 8.25,0.335857708; 8.3,0.345918295; 8.35,
        0.324828202; 8.4,0.338144377; 8.45,0.341289791; 8.5,0.342532834; 8.55,0.343243814;
        8.6,0.325601377; 8.65,0.329846808; 8.7,0.333269862; 8.75,0.338151725; 8.8,
        0.341064868; 8.85,0.323085045; 8.9,0.337288347; 8.95,0.341592032; 9,0.325589928;
        9.05,0.346115103; 9.1,0.33774501; 9.15,0.335518778; 9.2,0.334570201; 9.25,
        0.335490237; 9.3,0.335237943; 9.35,0.323074502; 9.4,0.34054207; 9.45,0.326883317;
        9.5,0.337937664; 9.55,0.340909541; 9.6,0.327945501; 9.65,0.340952353; 9.7,
        0.337680472; 9.75,0.322297813; 9.8,0.336624758; 9.85,0.330988998; 9.9,0.340235249;
        9.95,0.331656739; 10,0.336801864; 10.05,0.341751513; 10.1,0.330820305; 10.15,
        0.330908166; 10.2,0.332405313; 10.25,0.338622659; 10.3,0.333666993; 10.35,
        0.330440746; 10.4,0.337755713; 10.45,-0.230010549; 10.5,-0.077778964; 10.55,
        -0.059223467; 10.6,-0.032451606; 10.65,-0.005776072; 10.7,0.025284139; 10.75,
        0.052462716; 10.8,0.071239409; 10.85,0.086876545; 10.9,0.086651781; 10.95,
        0.110369709; 11,0.105738649; 11.05,0.11747333; 11.1,0.123089389; 11.15,0.144904839;
        11.2,0.141090298; 11.25,0.148948563; 11.3,0.165208499; 11.35,0.156718968;
        11.4,0.166446909; 11.45,0.187556438; 11.5,0.175218926; 11.55,0.189104811;
        11.6,0.192522647; 11.65,0.180771725; 11.7,0.204235336; 11.75,0.185217479;
        11.8,0.200550936; 11.85,0.213561248; 11.9,0.200473618; 11.95,0.219751171;
        12,0.200814518; 12.05,0.20465579; 12.1,0.1972298; 12.15,0.210082762; 12.2,
        0.199770732; 12.25,0.204745514; 12.3,0.199658271; 12.35,0.196572601; 12.4,
        0.192826219; 12.45,0.202192175; 12.5,0.21025401; 12.55,0.203815841; 12.6,
        0.204328948; 12.65,0.201039442; 12.7,0.209509217; 12.75,0.203091869; 12.8,
        0.206897996; 12.85,0.212155583; 12.9,0.200055401; 12.95,0.201837217; 13,
        0.198371989; 13.05,0.203046181; 13.1,0.201007812; 13.15,0.201053499; 13.2,
        0.206968285; 13.25,0.213247293; 13.3,0.21863092; 13.35,0.201095673; 13.4,
        0.212419591; 13.45,0.206785534; 13.5,0.210250443; 13.55,0.217071844; 13.6,
        0.202726368; 13.65,0.212287587; 13.7,0.203847471; 13.75,0.196744808; 13.8,
        0.203812327; 13.85,0.205305959; 13.9,0.203032123; 13.95,0.206613327; 14,
        0.200273296; 14.05,0.206609813; 14.1,0.214124942; 14.15,0.203959933; 14.2,
        0.22052179; 14.25,0.205541426; 14.3,0.207421646; 14.35,0.21589451; 14.4,
        0.209119116; 14.45,0.20853572; 14.5,0.203039152; 14.55,0.207927724; 14.6,
        0.202051597; 14.65,0.204817454; 14.7,0.206873395; 14.75,0.214324732; 14.8,
        0.222023782; 14.85,0.207094804; 14.9,0.21873795; 14.95,0.213069335; 15,0.22222714;
        15.05,0.222708777; 15.1,0.203432768; 15.15,0.216122842; 15.2,0.212535141;
        15.25,0.200807489; 15.3,0.207158064; 15.35,0.214592308; 15.4,0.202779084;
        15.45,0.218299126; 15.5,0.199876165; 15.55,0.208391629; 15.6,0.210924734;
        15.65,0.199296284; 15.7,0.214442465; 15.75,0.201995367; 15.8,0.198962414;
        15.85,0.199327914; 15.9,0.200234637; 15.95,0.209235092; 16,0.217821057;
        16.05,0.205843667; 16.1,0.20264905; 16.15,0.213093883; 16.2,0.205826095;
        16.25,0.203738524; 16.3,0.200652854; 16.35,0.193493961; 16.4,0.206308158;
        16.45,0.204553871; 16.5,0.199809391; 16.55,0.225124095; 16.6,0.209822002;
        16.65,0.22547016; 16.7,0.21762755; 16.75,0.208194821; 16.8,0.211329692;
        16.85,0.212162718; 16.9,0.201967251; 16.95,0.215409306; 17,0.211830924;
        17.05,0.207555194; 17.1,0.213175939; 17.15,0.204016164; 17.2,0.212740682;
        17.25,0.211306476; 17.3,0.207769575; 17.35,0.211081712; 17.4,0.206068591;
        17.45,0.223015597; 17.5,0.216044353; 17.55,0.213744105; 17.6,0.214852748;
        17.65,0.200420902; 17.7,0.208026128; 17.75,0.205007233; 17.8,0.205615229;
        17.85,0.198579341; 17.9,0.199619612; 17.95,0.209600593; 18,0.200347099;
        18.05,0.213919827; 18.1,0.205889355; 18.15,0.206897996; 18.2,0.211920116;
        18.25,0.205302445; 18.3,0.209006654; 18.35,0.204265688; 18.4,0.206613327;
        18.45,0.209112087; 18.5,0.206265399; 18.55,0.21124886; 18.6,0.20601236;
        18.65,0.206342716; 18.7,0.206588726; 18.75,0.201317082; 18.8,0.21732515;
        18.85,0.202121886; 18.9,0.213104586; 18.95,0.207358386; 19,0.201510375;
        19.05,0.218798601; 19.1,0.198688288; 19.15,0.210018544; 19.2,0.208753615;
        19.25,0.202698253; 19.3,0.203988048; 19.35,0.201071072; 19.4,0.215744668;
        19.45,0.211175057; 19.5,0.205601172; 19.55,0.203151614; 19.6,0.202473329;
        19.65,0.199707473; 19.7,0.202062141; 19.75,0.206005331; 19.8,0.20283883;
        19.85,0.212458836; 19.9,0.201014841; 19.95,0.199925367; 20,0.210232604;
        20.05,0.204701477; 20.1,0.211681082; 20.15,0.199647727; 20.2,0.2052427;
        20.25,0.217225255; 20.3,0.210229676; 20.35,0.220004476; 20.4,0.207147521;
        20.45,0.204740136; 20.5,0.222173625; 20.55,0.210806042; 20.6,0.197707762;
        20.65,0.206616842; 20.7,0.202420613; 20.75,0.204754194; 20.8,0.210261305;
        20.85,0.221096186; 20.9,0.209976637; 20.95,0.218281287; 21,0.208335398;
        21.05,0.210373767; 21.1,0.200326012; 21.15,0.215373629; 21.2,0.207999237;
        21.25,0.200311955; 21.3,0.216044353; 21.35,0.198045147; 21.4,0.209690317;
        21.45,0.198090835; 21.5,0.202933719; 21.55,0.204574958; 21.6,0.211641837;
        21.65,0.205091579; 21.7,0.196572601; 21.75,0.217606996; 21.8,0.207850407;
        21.85,0.218695138; 21.9,0.200027286; 21.95,0.201088644; 22,0.215288005])
    annotation (Placement(transformation(
        extent={{10,10},{-10,-10}},
        rotation=180,
        origin={8,10})));
  Modelica.Blocks.Sources.CombiTimeTable Ifd_real(
    tableOnFile=false,
    startTime=0,
    columns={2},
    smoothness=Modelica.Blocks.Types.Smoothness.ContinuousDerivative,
    extrapolation=Modelica.Blocks.Types.Extrapolation.HoldLastPoint,
    table=[0,0.445830176; 0.05,0.445846186; 0.1,0.445896241; 0.15,0.445924482;
        0.2,0.445806911; 0.25,0.445858369; 0.3,0.445771622; 0.35,0.445999015;
        0.4,0.446159466; 0.45,0.446182971; 0.5,0.446441236; 0.55,0.446349848;
        0.6,0.446751454; 0.65,0.447153842; 0.7,0.447297518; 0.75,0.447563565;
        0.8,0.447499939; 0.85,0.447541017; 0.9,0.44761783; 0.95,0.447312874; 1,
        0.447141771; 1.05,0.446647166; 1.1,0.446718892; 1.15,0.447266725; 1.2,
        0.447360936; 1.25,0.447758205; 1.3,0.447183358; 1.35,0.447006387; 1.4,
        0.44657646; 1.45,0.4462978; 1.5,0.446235003; 1.55,0.446176832; 1.6,
        0.446153151; 1.65,0.446575408; 1.7,0.446821458; 1.75,0.447179515; 1.8,
        0.44731163; 1.85,0.447103165; 1.9,0.447158466; 1.95,0.446957671; 2,
        0.447442628; 2.05,0.447681535; 2.1,0.447441704; 2.15,0.447804672; 2.2,
        0.447389065; 2.25,0.447164048; 2.3,0.446963763; 2.35,0.446716516; 2.4,
        0.446620313; 2.45,0.446594416; 2.5,0.446517826; 2.55,0.446690301; 2.6,
        0.446889214; 2.65,0.447180568; 2.7,0.44719484; 2.75,0.447300324; 2.8,
        0.447543664; 2.85,0.44754647; 2.9,0.447503734; 2.95,0.447431689; 3,
        0.447277936; 3.05,0.447396081; 3.1,0.447513127; 3.15,0.447541112; 3.2,
        0.447591184; 3.25,0.447234083; 3.3,0.44750037; 3.35,0.447154384; 3.4,
        0.447543504; 3.45,0.447095319; 3.5,0.446813262; 3.55,0.44678593; 3.6,
        0.446965086; 3.65,0.447217627; 3.7,0.447313767; 3.75,0.446847387; 3.8,
        0.446665887; 3.85,0.44659507; 3.9,0.446290895; 3.95,0.446459638; 4,
        0.446170134; 4.05,0.446406394; 4.1,0.446479443; 4.15,0.447199592; 4.2,
        0.447227928; 4.25,0.447140607; 4.3,0.446903103; 4.35,0.446980602; 4.4,
        0.447081637; 4.45,0.447121631; 4.5,0.446886647; 4.55,0.446421224; 4.6,
        0.446555985; 4.65,0.446545525; 4.7,0.446579618; 4.75,0.446480719; 4.8,
        0.446342178; 4.85,0.446117735; 4.9,0.446237954; 4.95,0.446403858; 5,
        0.446354186; 5.05,0.446331526; 5.1,0.446132645; 5.15,0.446216474; 5.2,
        0.446381007; 5.25,0.446417588; 5.3,0.446812162; 5.35,0.44692184; 5.4,
        0.447294488; 5.45,0.447341545; 5.5,0.447198093; 5.55,0.447297884; 5.6,
        0.446936447; 5.65,0.446851055; 5.7,0.447066903; 5.75,0.44709044; 5.8,
        0.447329219; 5.85,0.44710452; 5.9,0.44717049; 5.95,0.447281603; 6,
        0.447252884; 6.05,0.44708682; 6.1,0.446825429; 6.15,0.446837405; 6.2,
        0.447321166; 6.25,0.447286881; 6.3,0.447357268; 6.35,0.447195478; 6.4,
        0.447079532; 6.45,0.447227641; 6.5,0.447751635; 6.55,0.447847296; 6.6,
        0.44736076; 6.65,0.44700897; 6.7,0.447338101; 6.75,0.447178112; 6.8,
        0.447486018; 6.85,0.44758876; 6.9,0.447362722; 6.95,0.447563086; 7,
        0.447417146; 7.05,0.447740903; 7.1,0.447761936; 7.15,0.447609267; 7.2,
        0.447804991; 7.25,0.447435516; 7.3,0.44776149; 7.35,0.447780784; 7.4,
        0.447502475; 7.45,0.447651301; 7.5,0.44714504; 7.55,0.446805847; 7.6,
        0.446971991; 7.65,0.446872279; 7.7,0.44668566; 7.75,0.446761692; 7.8,
        0.446454775; 7.85,0.446279414; 7.9,0.445955864; 7.95,0.446240999; 8,
        0.446207113; 8.05,0.446083291; 8.1,0.445970216; 8.15,0.446052339; 8.2,
        0.446128419; 8.25,0.446543755; 8.3,0.447003915; 8.35,0.446781912; 8.4,
        0.447155309; 8.45,0.447258609; 8.5,0.447332456; 8.55,0.447316334; 8.6,
        0.447166854; 8.65,0.447045519; 8.7,0.447069136; 8.75,0.447125426; 8.8,
        0.447344687; 8.85,0.447323941; 8.9,0.44728822; 8.95,0.447152231; 9,
        0.446980092; 9.05,0.446627584; 9.1,0.446754787; 9.15,0.446619356; 9.2,
        0.447009784; 9.25,0.44706255; 9.3,0.446666206; 9.35,0.446750689; 9.4,
        0.446798767; 9.45,0.447331981; 9.5,0.447025523; 9.55,0.447014839; 9.6,
        0.447160268; 9.65,0.447073122; 9.7,0.447281396; 9.75,0.447073026; 9.8,
        0.44673444; 9.85,0.446520473; 9.9,0.446651248; 9.95,0.446711047; 10,
        0.447148883; 10.05,0.447442357; 10.1,0.447764392; 10.15,0.447793095;
        10.2,0.447510942; 10.25,0.447025682; 10.3,0.44711404; 10.35,0.447293563;
        10.4,0.447137545; 10.45,0.439353581; 10.5,0.409068871; 10.55,
        0.391409187; 10.6,0.374391229; 10.65,0.362141484; 10.7,0.351955742;
        10.75,0.343794279; 10.8,0.3372903; 10.85,0.330045013; 10.9,0.324484127;
        10.95,0.319217482; 11,0.314495911; 11.05,0.310381397; 11.1,0.305427665;
        11.15,0.302740021; 11.2,0.299116636; 11.25,0.29686289; 11.3,0.294772768;
        11.35,0.292546258; 11.4,0.290823617; 11.45,0.289599041; 11.5,
        0.288547817; 11.55,0.287799348; 11.6,0.28685911; 11.65,0.285526976;
        11.7,0.284867886; 11.75,0.284382132; 11.8,0.284273618; 11.85,
        0.284110216; 11.9,0.284198527; 11.95,0.284549217; 12,0.284421025; 12.05,
        0.284228282; 12.1,0.283827952; 12.15,0.283453949; 12.2,0.282787555;
        12.25,0.282070804; 12.3,0.28088418; 12.35,0.280018937; 12.4,0.279720598;
        12.45,0.279236438; 12.5,0.278956614; 12.55,0.279109267; 12.6,
        0.279095585; 12.65,0.279116315; 12.7,0.279138417; 12.75,0.279211116;
        12.8,0.278843108; 12.85,0.278604234; 12.9,0.278193953; 12.95,
        0.277927061; 13,0.277613079; 13.05,0.277406384; 13.1,0.277206848; 13.15,
        0.277098334; 13.2,0.277087092; 13.25,0.277243684; 13.3,0.277126256;
        13.35,0.276914745; 13.4,0.276762012; 13.45,0.276491931; 13.5,
        0.276324001; 13.55,0.276242611; 13.6,0.276307704; 13.65,0.276329614;
        13.7,0.275892655; 13.75,0.275367322; 13.8,0.27533889; 13.85,0.275438713;
        13.9,0.275451454; 13.95,0.275444868; 14,0.27500472; 14.05,0.274943359;
        14.1,0.274947505; 14.15,0.275204255; 14.2,0.275471451; 14.25,
        0.275840415; 14.3,0.275687395; 14.35,0.27586628; 14.4,0.276084807;
        14.45,0.276483399; 14.5,0.276428991; 14.55,0.276375045; 14.6,
        0.276545111; 14.65,0.276653307; 14.7,0.276453755; 14.75,0.276447488;
        14.8,0.276707476; 14.85,0.276937931; 14.9,0.277169821; 14.95,
        0.277529329; 15,0.277788025; 15.05,0.277891708; 15.1,0.277903508; 15.15,
        0.277532901; 15.2,0.277285974; 15.25,0.276852332; 15.3,0.276524142;
        15.35,0.276277358; 15.4,0.275984362; 15.45,0.275799274; 15.5,
        0.275997023; 15.55,0.27602166; 15.6,0.276178093; 15.65,0.275950779;
        15.7,0.275530229; 15.75,0.275272601; 15.8,0.275414746; 15.85,
        0.275049513; 15.9,0.275022723; 15.95,0.275272569; 16,0.275160929; 16.05,
        0.275257787; 16.1,0.274947234; 16.15,0.274915102; 16.2,0.274585525;
        16.25,0.274019019; 16.3,0.273652096; 16.35,0.273042726; 16.4,
        0.272392614; 16.45,0.272087163; 16.5,0.272351967; 16.55,0.273033095;
        16.6,0.274181256; 16.65,0.275220776; 16.7,0.276146662; 16.75,
        0.276815544; 16.8,0.276784129; 16.85,0.276559351; 16.9,0.276521638;
        16.95,0.276228387; 17,0.275824309; 17.05,0.275470047; 17.1,0.275168839;
        17.15,0.275143133; 17.2,0.275048078; 17.25,0.275102343; 17.3,0.27469978;
        17.35,0.274635708; 17.4,0.275038096; 17.45,0.275216949; 17.5,
        0.275661992; 17.55,0.275854942; 17.6,0.276171012; 17.65,0.276120543;
        17.7,0.275964891; 17.75,0.275645344; 17.8,0.275451789; 17.85,
        0.275336657; 17.9,0.275403902; 17.95,0.275665102; 18,0.276008488; 18.05,
        0.276099653; 18.1,0.276235882; 18.15,0.276493732; 18.2,0.276464902;
        18.25,0.276599121; 18.3,0.276497799; 18.35,0.276337954; 18.4,
        0.276373498; 18.45,0.276206062; 18.5,0.276144653; 18.55,0.276116986;
        18.6,0.27611225; 18.65,0.276152626; 18.7,0.27615505; 18.75,0.275971413;
        18.8,0.275953442; 18.85,0.275688176; 18.9,0.275449748; 18.95,
        0.275571721; 19,0.275622653; 19.05,0.275470127; 19.1,0.275243116; 19.15,
        0.275097495; 19.2,0.274739406; 19.25,0.274551831; 19.3,0.27474191;
        19.35,0.274794596; 19.4,0.274395765; 19.45,0.274119959; 19.5,
        0.274153494; 19.55,0.2746156; 19.6,0.274492941; 19.65,0.274704723; 19.7,
        0.274679209; 19.75,0.274619937; 19.8,0.274638244; 19.85,0.274062664;
        19.9,0.274154514; 19.95,0.273912642; 20,0.273688118; 20.05,0.273401931;
        20.1,0.273055643; 20.15,0.27262637; 20.2,0.272618716; 20.25,0.272786566;
        20.3,0.272942042; 20.35,0.272954209; 20.4,0.27370322; 20.45,0.274497725;
        20.5,0.275201082; 20.55,0.275151298; 20.6,0.275265345; 20.65,
        0.274765016; 20.7,0.274790929; 20.75,0.275121925; 20.8,0.275326531;
        20.85,0.275510072; 20.9,0.27605604; 20.95,0.276344842; 21,0.276397146;
        21.05,0.276218963; 21.1,0.276290625; 21.15,0.27590168; 21.2,0.275508765;
        21.25,0.275589517; 21.3,0.275292741; 21.35,0.274963961; 21.4,
        0.274345869; 21.45,0.27387697; 21.5,0.273225757; 21.55,0.273454873;
        21.6,0.273757596; 21.65,0.274053256; 21.7,0.274486961; 21.75,
        0.274356123; 21.8,0.274846167; 21.85,0.274645834; 21.9,0.274954266;
        21.95,0.274765813; 22,0.275031366])    annotation (Placement(
        transformation(
        extent={{10,10},{-10,-10}},
        rotation=180,
        origin={-78,-8})));
  Modelica.Blocks.Interfaces.RealOutput Efd annotation (Placement(
        transformation(extent={{-18,34},{-10,42}}),iconTransformation(extent={{42,
            66},{50,74}})));
  Modelica.Blocks.Sources.Constant const1(k=-Modelica.Constants.inf)
                                                  annotation (Placement(transformation(extent={{-158,
            -26},{-148,-16}})));
  Modelica.Blocks.Sources.Constant const2(k=Modelica.Constants.inf)
                                                  annotation (Placement(transformation(extent={{-158,-8},
            {-148,2}})));
  OpenIPSL.Electrical.Controls.PSSE.ES.ST5B sT5B(
    T_R=machineData.data.T_R,
    T_C1=machineData.data.T_C1,
    T_B1=machineData.data.T_B1,
    T_C2=machineData.data.T_C2,
    T_B2=machineData.data.T_B2,
    K_R=machineData.data.K_R,
    V_RMAX=machineData.data.V_RMAX,
    V_RMIN=machineData.data.V_RMIN,
    T_1=machineData.data.T_1_AVR,
    K_C=machineData.data.K_C,
    T_UC1=machineData.data.T_UC1,
    T_UB1=machineData.data.T_UB1,
    T_UC2=machineData.data.T_UC2,
    T_UB2=machineData.data.T_UB2,
    T_OC1=machineData.data.T_OC1,
    T_OB1=machineData.data.T_OB1,
    T_OC2=machineData.data.T_OC2,
    T_OB2=machineData.data.T_OB2)
                     annotation (Placement(transformation(extent={{-88,20},{-56,
            52}})));
  Modelica.Blocks.Sources.Constant const4(k=0)    annotation (Placement(transformation(extent={{-106,44},
            {-96,54}})));
  Modelica.Blocks.Sources.CombiTimeTable Eterm(
    tableOnFile=false,
    startTime=0,
    columns={2},
    smoothness=Modelica.Blocks.Types.Smoothness.ContinuousDerivative,
    extrapolation=Modelica.Blocks.Types.Extrapolation.HoldLastPoint,
    table=[0,0.974513558; 0.05,0.974347523; 0.1,0.974513558; 0.15,0.974292179;
        0.2,0.974458213; 0.25,0.974402868; 0.3,0.974126144; 0.35,0.974402868;
        0.4,0.974402868; 0.45,0.974181489; 0.5,0.974568903; 0.55,0.974236834;
        0.6,0.974402868; 0.65,0.974402868; 0.7,0.974181489; 0.75,0.974513558;
        0.8,0.974236834; 0.85,0.974402868; 0.9,0.974292179; 0.95,0.974402868; 1,
        0.974402868; 1.05,0.974181489; 1.1,0.974568903; 1.15,0.974181489; 1.2,
        0.974402868; 1.25,0.974568903; 1.3,0.974236834; 1.35,0.974513558; 1.4,
        0.974458213; 1.45,0.974458213; 1.5,0.974568903; 1.55,0.974292179; 1.6,
        0.974624248; 1.65,0.974236834; 1.7,0.974292179; 1.75,0.974513558; 1.8,
        0.974181489; 1.85,0.974402868; 1.9,0.974236834; 1.95,0.974292179; 2,
        0.974402868; 2.05,0.974070799; 2.1,0.974624248; 2.15,0.974236834; 2.2,
        0.974458213; 2.25,0.974568903; 2.3,0.974292179; 2.35,0.974679593; 2.4,
        0.974292179; 2.45,0.974568903; 2.5,0.974624248; 2.55,0.974347523; 2.6,
        0.974458213; 2.65,0.974347523; 2.7,0.974347523; 2.75,0.974458213; 2.8,
        0.974347523; 2.85,0.974458213; 2.9,0.974236834; 2.95,0.974458213; 3,
        0.974402868; 3.05,0.974070799; 3.1,0.974679593; 3.15,0.974070799; 3.2,
        0.974347523; 3.25,0.974458213; 3.3,0.974181489; 3.35,0.974568903; 3.4,
        0.974402868; 3.45,0.974679593; 3.5,0.974402868; 3.55,0.974458213; 3.6,
        0.974679593; 3.65,0.974292179; 3.7,0.974513558; 3.75,0.974624248; 3.8,
        0.974402868; 3.85,0.974679593; 3.9,0.974513558; 3.95,0.974513558; 4,
        0.974402868; 4.05,0.974292179; 4.1,0.974402868; 4.15,0.973960109; 4.2,
        0.974402868; 4.25,0.974458213; 4.3,0.974347523; 4.35,0.974513558; 4.4,
        0.974292179; 4.45,0.974568903; 4.5,0.974402868; 4.55,0.974568903; 4.6,
        0.974568903; 4.65,0.974624248; 4.7,0.974568903; 4.75,0.974513558; 4.8,
        0.974402868; 4.85,0.974624248; 4.9,0.974347523; 4.95,0.974458213; 5,
        0.974236834; 5.05,0.974513558; 5.1,0.974292179; 5.15,0.974458213; 5.2,
        0.974402868; 5.25,0.974292179; 5.3,0.974347523; 5.35,0.974236834; 5.4,
        0.974292179; 5.45,0.974347523; 5.5,0.974181489; 5.55,0.974402868; 5.6,
        0.974292179; 5.65,0.974458213; 5.7,0.974458213; 5.75,0.974347523; 5.8,
        0.974679593; 5.85,0.974458213; 5.9,0.974624248; 5.95,0.974568903; 6,
        0.974458213; 6.05,0.974624248; 6.1,0.974347523; 6.15,0.974458213; 6.2,
        0.974292179; 6.25,0.974402868; 6.3,0.974292179; 6.35,0.974236834; 6.4,
        0.974513558; 6.45,0.974402868; 6.5,0.974292179; 6.55,0.974513558; 6.6,
        0.974292179; 6.65,0.974624248; 6.7,0.974181489; 6.75,0.974402868; 6.8,
        0.974513558; 6.85,0.974181489; 6.9,0.974624248; 6.95,0.974236834; 7,
        0.974402868; 7.05,0.974513558; 7.1,0.974236834; 7.15,0.974513558; 7.2,
        0.974181489; 7.25,0.974402868; 7.3,0.974513558; 7.35,0.974126144; 7.4,
        0.974513558; 7.45,0.974292179; 7.5,0.974513558; 7.55,0.974679593; 7.6,
        0.974347523; 7.65,0.974734938; 7.7,0.974402868; 7.75,0.974513558; 7.8,
        0.974734938; 7.85,0.974292179; 7.9,0.974734938; 7.95,0.974236834; 8,
        0.974458213; 8.05,0.974458213; 8.1,0.974181489; 8.15,0.974568903; 8.2,
        0.974402868; 8.25,0.974568903; 8.3,0.974402868; 8.35,0.974236834; 8.4,
        0.974458213; 8.45,0.974181489; 8.5,0.974292179; 8.55,0.974347523; 8.6,
        0.974236834; 8.65,0.974624248; 8.7,0.974292179; 8.75,0.974458213; 8.8,
        0.974458213; 8.85,0.974347523; 8.9,0.974679593; 8.95,0.974181489; 9,
        0.974734938; 9.05,0.974347523; 9.1,0.974347523; 9.15,0.974624248; 9.2,
        0.974292179; 9.25,0.974402868; 9.3,0.974568903; 9.35,0.974402868; 9.4,
        0.974458213; 9.45,0.974181489; 9.5,0.974347523; 9.55,0.974236834; 9.6,
        0.974292179; 9.65,0.974513558; 9.7,0.974236834; 9.75,0.974513558; 9.8,
        0.974568903; 9.85,0.974402868; 9.9,0.974568903; 9.95,0.974402868; 10,
        0.974402868; 10.05,0.974292179; 10.1,0.974292179; 10.15,0.974402868;
        10.2,0.974292179; 10.25,0.974513558; 10.3,0.974347523; 10.35,
        0.974347523; 10.4,0.974458213; 10.45,0.973738729; 10.5,0.970584068;
        10.55,0.967595442; 10.6,0.965049575; 10.65,0.962503708; 10.7,
        0.960234566; 10.75,0.958574218; 10.8,0.956747835; 10.85,0.955253522;
        10.9,0.953925244; 10.95,0.95254162; 11,0.951766791; 11.05,0.950825928;
        11.1,0.950161788; 11.15,0.949276269; 11.2,0.948556785; 11.25,
        0.948169371; 11.3,0.947560577; 11.35,0.947117817; 11.4,0.946730403;
        11.45,0.946398333; 11.5,0.946066263; 11.55,0.945678849; 11.6,
        0.945678849; 11.65,0.945346779; 11.7,0.945346779; 11.75,0.94490402;
        11.8,0.94490402; 11.85,0.944959365; 11.9,0.94457195; 11.95,0.94446126;
        12,0.944516605; 12.05,0.944405915; 12.1,0.944405915; 12.15,0.944073846;
        12.2,0.944239881; 12.25,0.944073846; 12.3,0.944018501; 12.35,
        0.944073846; 12.4,0.943299017; 12.45,0.943797121; 12.5,0.943631086;
        12.55,0.943409707; 12.6,0.943852466; 12.65,0.943299017; 12.7,
        0.943686431; 12.75,0.943465052; 12.8,0.943520397; 12.85,0.943631086;
        12.9,0.943243672; 12.95,0.943465052; 13,0.943243672; 13.05,0.943132982;
        13.1,0.943299017; 13.15,0.942800912; 13.2,0.943243672; 13.25,
        0.943077637; 13.3,0.943077637; 13.35,0.943299017; 13.4,0.942966947;
        13.45,0.943299017; 13.5,0.942966947; 13.55,0.943022292; 13.6,
        0.943077637; 13.65,0.942690223; 13.7,0.943132982; 13.75,0.942690223;
        13.8,0.942690223; 13.85,0.942966947; 13.9,0.942524188; 13.95,
        0.942856257; 14,0.942634878; 14.05,0.942690223; 14.1,0.942856257; 14.15,
        0.942468843; 14.2,0.942966947; 14.25,0.942579533; 14.3,0.942745567;
        14.35,0.942911602; 14.4,0.942634878; 14.45,0.942911602; 14.5,
        0.942579533; 14.55,0.942745567; 14.6,0.942579533; 14.65,0.942524188;
        14.7,0.942856257; 14.75,0.942634878; 14.8,0.942800912; 14.85,
        0.942856257; 14.9,0.942524188; 14.95,0.942800912; 15,0.942690223; 15.05,
        0.942966947; 15.1,0.942745567; 15.15,0.943022292; 15.2,0.943243672;
        15.25,0.943132982; 15.3,0.943188327; 15.35,0.943243672; 15.4,
        0.943077637; 15.45,0.943243672; 15.5,0.942579533; 15.55,0.942690223;
        15.6,0.942524188; 15.65,0.942468843; 15.7,0.942524188; 15.75,
        0.942413498; 15.8,0.942302808; 15.85,0.942192118; 15.9,0.942302808;
        15.95,0.942358153; 16,0.942413498; 16.05,0.942468843; 16.1,0.942579533;
        16.15,0.942247463; 16.2,0.942579533; 16.25,0.942634878; 16.3,
        0.942579533; 16.35,0.942358153; 16.4,0.942468843; 16.45,0.942579533;
        16.5,0.942413498; 16.55,0.942579533; 16.6,0.942413498; 16.65,
        0.942524188; 16.7,0.942468843; 16.75,0.942468843; 16.8,0.942634878;
        16.85,0.942524188; 16.9,0.942579533; 16.95,0.942468843; 17,0.942524188;
        17.05,0.942690223; 17.1,0.942690223; 17.15,0.942634878; 17.2,
        0.942690223; 17.25,0.942302808; 17.3,0.942690223; 17.35,0.942524188;
        17.4,0.942690223; 17.45,0.942800912; 17.5,0.942800912; 17.55,
        0.942966947; 17.6,0.942524188; 17.65,0.942911602; 17.7,0.942690223;
        17.75,0.942966947; 17.8,0.942800912; 17.85,0.942413498; 17.9,
        0.942690223; 17.95,0.942358153; 18,0.942524188; 18.05,0.942690223; 18.1,
        0.942579533; 18.15,0.942911602; 18.2,0.942745567; 18.25,0.942911602;
        18.3,0.942800912; 18.35,0.942911602; 18.4,0.943188327; 18.45,
        0.942911602; 18.5,0.943299017; 18.55,0.943132982; 18.6,0.943132982;
        18.65,0.943299017; 18.7,0.942634878; 18.75,0.943077637; 18.8,
        0.942579533; 18.85,0.942800912; 18.9,0.942856257; 18.95,0.942413498; 19,
        0.942579533; 19.05,0.942524188; 19.1,0.942468843; 19.15,0.942800912;
        19.2,0.942579533; 19.25,0.943243672; 19.3,0.942468843; 19.35,
        0.942579533; 19.4,0.943077637; 19.45,0.942745567; 19.5,0.943188327;
        19.55,0.942358153; 19.6,0.942634878; 19.65,0.942634878; 19.7,
        0.942358153; 19.75,0.943022292; 19.8,0.942302808; 19.85,0.942745567;
        19.9,0.942579533; 19.95,0.942192118; 20,0.942634878; 20.05,0.942136773;
        20.1,0.942413498; 20.15,0.942745567; 20.2,0.942358153; 20.25,
        0.942800912; 20.3,0.942192118; 20.35,0.942856257; 20.4,0.942468843;
        20.45,0.942358153; 20.5,0.942690223; 20.55,0.942413498; 20.6,
        0.942358153; 20.65,0.942800912; 20.7,0.942634878; 20.75,0.942690223;
        20.8,0.942524188; 20.85,0.942856257; 20.9,0.942579533; 20.95,
        0.942745567; 21,0.942966947; 21.05,0.942745567; 21.1,0.942579533; 21.15,
        0.942634878; 21.2,0.942302808; 21.25,0.942468843; 21.3,0.942413498;
        21.35,0.942579533; 21.4,0.942634878; 21.45,0.942413498; 21.5,
        0.943077637; 21.55,0.942302808; 21.6,0.942358153; 21.65,0.942468843;
        21.7,0.942247463; 21.75,0.942690223; 21.8,0.942192118; 21.85,
        0.943022292; 21.9,0.942413498; 21.95,0.942634878; 22,0.942579533])
    annotation (Placement(transformation(
        extent={{10,-10},{-10,10}},
        rotation=180,
        origin={-156,48})));
  Modelica.Blocks.Math.Add  add3_1 annotation (Placement(transformation(extent={{-132,30},
            {-124,38}})));
  Modelica.Blocks.Sources.Step step1(
    offset=0,
    startTime=10.4,
    height=0.015)                                                  annotation (Placement(transformation(extent={{-146,24},
            {-138,32}})));
  Modelica.Blocks.Sources.Constant const3(k=0.332057384)
                                                  annotation (Placement(transformation(extent={{-158,8},
            {-148,18}})));
equation
      Efd = sT5B.EFD;

  connect(Efdsampler.u,Efd)
    annotation (Line(points={{-4,38},{-14,38}},  color={0,0,127}));
  connect(Efd_error.u1, Efdsampler.y)
    annotation (Line(points={{26,38},{19,38}},   color={0,0,127}));
  connect(Efd_error.u2, Efd_real.y[1])
    annotation (Line(points={{34,30},{34,10},{19,10}},    color={0,0,127}));
  connect(sT5B.VOEL,const2. y) annotation (Line(points={{-72,18.4},{-134,18.4},{
          -134,-3},{-147.5,-3}},       color={0,0,127}));
  connect(sT5B.VUEL,const1. y) annotation (Line(points={{-78.4,18.4},{-132,18.4},
          {-132,-21},{-147.5,-21}}, color={0,0,127}));
  connect(sT5B.VOTHSG, const4.y) annotation (Line(points={{-89.6,42.4},{-94,42.4},
          {-94,49},{-95.5,49}},      color={0,0,127}));
  connect(add3_1.u2, step1.y) annotation (Line(points={{-132.8,31.6},{-136,31.6},
          {-136,28},{-137.6,28}}, color={0,0,127}));
  connect(add3_1.u1, Eterm.y[1]) annotation (Line(points={{-132.8,36.4},{-138,36.4},
          {-138,48},{-145,48}}, color={0,0,127}));
  connect(sT5B.ECOMP, add3_1.y) annotation (Line(points={{-89.6,36},{-106,36},{-106,
          34},{-123.6,34}}, color={0,0,127}));
  connect(const3.y, sT5B.EFD0) annotation (Line(points={{-147.5,13},{-136,13},{-136,
          22},{-112,22},{-112,29.6},{-89.6,29.6}}, color={0,0,127}));
  connect(Ifd_real.y[1], sT5B.XADIFD) annotation (Line(points={{-67,-8},{-62,-8},
          {-62,4},{-59.2,4},{-59.2,18.4}}, color={0,0,127}));
  annotation (Icon(coordinateSystem(preserveAspectRatio=false, extent={{-180,
            -40},{60,100}})),                                    Diagram(
        coordinateSystem(preserveAspectRatio=false, extent={{-180,-40},{60,100}})),
    experiment(
      StopTime=22,
      __Dymola_NumberOfIntervals=5000,
      Tolerance=1e-06,
      __Dymola_Algorithm="Dassl"),
    __Dymola_experimentSetupOutput,
    __Dymola_experimentFlags(
      Advanced(GenerateVariableDependencies=false, OutputModelicaCode=false),
      Evaluate=false,
      OutputCPUtime=false,
      OutputFlatModelica=false),
    __Dymola_Commands(file="Plot_Efd_Ifd.mos" "Plot_Efd_Ifd"));
end Model_AVR;
