within Mostar.Models.PSS_off;
model System_all_controls_tables
  "System with the original generator parameters"

  OpenIPSL.Electrical.Buses.Bus bus annotation (Placement(transformation(extent={{-18,-10},{2,10}})));
  Modelica.Blocks.Sources.Constant const(k=-Modelica.Constants.inf)
                                                  annotation (Placement(transformation(extent={{-80,-74},
            {-70,-64}})));
  OpenIPSL.Electrical.Controls.PSSE.ES.ST5B sT5B(
    T_C1=1.071137,
    T_B1=10.7561,
    T_C2=3.414283,
    T_B2=1.701033,
    K_R=358.6086,
    T_1=0.004361481) annotation (Placement(transformation(extent={{-54,-38},{-74,
            -20}})));
  Modelica.Blocks.Sources.Constant const1(k=Modelica.Constants.inf)
                                                  annotation (Placement(transformation(extent={{-80,-56},
            {-70,-46}})));
  inner OpenIPSL.Electrical.SystemBase SysData(S_b=30, fn=50) annotation (Placement(transformation(extent={{80,40},
            {140,60}})));
  VoltageSource voltageSource
    annotation (Placement(transformation(extent={{66,-10},{46,10}})));
  Data2Model.IG_Lim_Inductive.init machineData
    annotation (Placement(transformation(extent={{-48,30},{-28,50}})));
  Modelica.Blocks.Sources.CombiTimeTable Pout_real(
    tableOnFile=false,
    startTime=0,
    columns={2},
    smoothness=Modelica.Blocks.Types.Smoothness.ContinuousDerivative,
    extrapolation=Modelica.Blocks.Types.Extrapolation.HoldLastPoint,
    table=[0,0.605862948; 0.5,0.605862948; 1,0.607512958; 1.5,0.608234837; 2,
        0.607719209; 2.5,0.608234837; 3,0.607822334; 3.5,0.607100455; 4,
        0.607719209; 4.5,0.608337962; 5,0.606378576; 5.5,0.608234837; 6,
        0.607616083; 6.5,0.608234837; 7,0.60627545; 7.5,0.606687953; 8,
        0.607719209; 8.5,0.609472344; 9,0.609162967; 9.5,0.610297349; 10,
        0.609059842; 10.5,0.607719209; 11,0.607719209; 11.5,0.607719209; 12,
        0.608956716; 12.5,0.606687953; 13,0.608131711; 13.5,0.608544214; 14,
        0.608131711; 14.5,0.608544214; 15,0.60885359; 15.5,0.60792546; 16,
        0.606584827; 16.5,0.606481701; 17,0.60699733; 17.5,0.608028586; 18,
        0.60792546; 18.5,0.608750465; 19,0.606481701; 19.5,0.606584827; 20,
        0.60699733; 20.5,0.608647339; 21,0.60792546; 21.5,0.60627545; 22,
        0.606894204; 22.5,0.607616083; 23,0.60534732; 23.5,0.608337962; 24,
        0.606481701; 24.5,0.607203581; 25,0.607100455; 25.5,0.607409832; 26,
        0.607306706; 26.5,0.605656697; 27,0.605037943; 27.5,0.606069199; 28,
        0.605244194; 28.5,0.604934817; 29,0.60699733; 29.5,0.607100455; 30,
        0.60627545; 30.5,0.606791078; 31,0.60369731; 31.5,0.604006687; 32,
        0.604006687; 32.5,0.604625441; 33,0.60534732; 33.5,0.606687953; 34,
        0.607512958; 34.5,0.607100455; 35,0.605966073; 35.5,0.606894204; 36,
        0.607822334; 36.5,0.608337962; 37,0.60699733; 37.5,0.607822334; 38,
        0.608647339; 38.5,0.607719209; 39,0.60699733; 39.5,0.60699733; 40,
        0.606378576; 40.5,0.607512958; 41,0.608234837; 41.5,0.608647339; 42,
        0.607822334; 42.5,0.606172325; 43,0.607409832; 43.5,0.608234837; 44,
        0.607512958; 44.5,0.609884847; 45,0.608956716; 45.5,0.607409832; 46,
        0.608544214; 46.5,0.608544214; 47,0.60792546; 47.5,0.606481701; 48,
        0.608234837; 48.5,0.607719209; 49,0.608441088; 49.5,0.608956716; 50,
        0.60534732; 50.5,0.605862948; 51,0.604728566; 51.5,0.607719209; 52,
        0.60885359; 52.5,0.608234837; 53,0.605966073; 53.5,0.606687953; 54,
        0.606481701; 54.5,0.608441088; 55,0.606584827; 55.5,0.606791078; 56,
        0.606069199; 56.5,0.60627545; 57,0.606791078; 57.5,0.606791078; 58,
        0.605450445; 58.5,0.60534732; 59,0.606378576; 59.5,0.607409832; 60,
        0.607409832; 60.5,0.60627545; 61,0.606791078; 61.5,0.608234837; 62,
        0.607409832; 62.5,0.607822334; 63,0.606172325; 63.5,0.605656697; 64,
        0.605037943; 64.5,0.606481701])            annotation (
      Placement(transformation(
        extent={{10,10},{-10,-10}},
        rotation=180,
        origin={10,30})));
  Modelica.Blocks.Sources.CombiTimeTable Qout_real(
    tableOnFile=false,
    startTime=0,
    columns={2},
    smoothness=Modelica.Blocks.Types.Smoothness.ContinuousDerivative,
    extrapolation=Modelica.Blocks.Types.Extrapolation.HoldLastPoint,
    table=[0,0.009693807; 0.5,0.009487556; 1,0.009487556; 1.5,0.009178179; 2,
        0.008353174; 2.5,0.008250049; 3,0.010003184; 3.5,0.010415686; 4,
        0.010621938; 4.5,0.010621938; 5,0.010518812; 5.5,0.011756319; 6,
        0.012168822; 6.5,0.012787575; 7,0.012581324; 7.5,0.012065696; 8,
        0.011446943; 8.5,0.010828189; 9,0.010828189; 9.5,0.012168822; 10,
        0.010312561; 10.5,0.011962571; 11,0.011653194; 11.5,0.012581324; 12,
        0.011446943; 12.5,0.012271947; 13,0.013406329; 13.5,0.013096952; 14,
        0.012993827; 14.5,0.012890701; 15,0.010931314; 15.5,0.010518812; 16,
        0.010415686; 16.5,0.011550068; 17,0.01268445; 17.5,0.012065696; 18,
        0.011550068; 18.5,0.012787575; 19,0.012168822; 19.5,0.013715706; 20,
        0.013406329; 20.5,0.013818831; 21,0.012890701; 21.5,0.013303203; 22,
        0.012890701; 22.5,0.011962571; 23,0.012478199; 23.5,0.013096952; 24,
        0.013096952; 24.5,0.014643836; 25,0.013715706; 25.5,0.013303203; 26,
        0.013406329; 26.5,0.01433446; 27,0.013096952; 27.5,0.012890701; 28,
        0.01361258; 28.5,0.013096952; 29,0.012478199; 29.5,0.012478199; 30,
        0.012375073; 30.5,0.012168822; 31,0.013406329; 31.5,0.01268445; 32,
        0.011962571; 32.5,0.011240691; 33,0.01268445; 33.5,0.012271947; 34,
        0.01103444; 34.5,0.011240691; 35,0.011962571; 35.5,0.011343817; 36,
        0.011550068; 36.5,0.012890701; 37,0.013096952; 37.5,0.012478199; 38,
        0.012375073; 38.5,0.012787575; 39,0.012065696; 39.5,0.013200078; 40,
        0.013406329; 40.5,0.013509455; 41,0.012581324; 41.5,0.01103444; 42,
        0.010828189; 42.5,0.011137566; 43,0.010828189; 43.5,0.011343817; 44,
        0.011550068; 44.5,0.011653194; 45,0.011240691; 45.5,0.011137566; 46,
        0.011446943; 46.5,0.010621938; 47,0.010209435; 47.5,0.009281305; 48,
        0.009075054; 48.5,0.009693807; 49,0.00938443; 49.5,0.01010631; 50,
        0.010518812; 50.5,0.01010631; 51,0.011240691; 51.5,0.010828189; 52,
        0.010518812; 52.5,0.010518812; 53,0.009900058; 53.5,0.010209435; 54,
        0.010931314; 54.5,0.008868802; 55,0.010003184; 55.5,0.009796933; 56,
        0.010209435; 56.5,0.009693807; 57,0.010312561; 57.5,0.010003184; 58,
        0.009693807; 58.5,0.008971928; 59,0.009281305; 59.5,0.009693807; 60,
        0.009281305; 60.5,0.009796933; 61,0.010518812; 61.5,0.01010631; 62,
        0.010209435; 62.5,0.01010631; 63,0.009178179; 63.5,0.010312561; 64,
        0.009281305; 64.5,0.010415686])
    annotation (Placement(transformation(
        extent={{10,10},{-10,-10}},
        rotation=180,
        origin={50,30})));
  Modelica.Blocks.Sources.CombiTimeTable Vim_input(
    tableOnFile=false,
    startTime=0,
    columns={2},
    smoothness=Modelica.Blocks.Types.Smoothness.ContinuousDerivative,
    extrapolation=Modelica.Blocks.Types.Extrapolation.HoldLastPoint,
    table=[0,0.015788552089065; 0.5,0.0154570419113189; 1,0.0154124780539934;
        1.5,0.0148931568286904; 2,0.0135684912446076; 2.5,0.0133874006209026; 3,
        0.0162407119522625; 3.5,0.0169322387662387; 4,0.0172479203191264; 4.5,
        0.0172323148735007; 5,0.0171201860916653; 5.5,0.0190720278734719; 6,
        0.0197654870460256; 6.5,0.0207477932905705; 7,0.0204803885734853; 7.5,
        0.0196280184476975; 8,0.0185871067793851; 8.5,0.0175311822434861; 9,
        0.0175400830337553; 9.5,0.0196720645229866; 10,0.0167107249063157; 10.5,
        0.0194240464354683; 11,0.0189293146434805; 11.5,0.0204328997035623; 12,
        0.0185535085539144; 12.5,0.0199622844317368; 13,0.0217512705053708;
        13.5,0.0212363467372936; 14,0.0210823115967738; 14.5,0.020899723416305;
        15,0.0177180585402636; 15.5,0.017076636335477; 16,0.0169447274098068;
        16.5,0.0187959126009482; 17,0.0206236426803682; 17.5,0.0195858560296939;
        18,0.0187523417309378; 18.5,0.0207267401004551; 19,0.0198002216508809;
        19.5,0.0223121925894964; 20,0.0217943444899164; 20.5,0.0224012154805696;
        21,0.0209280256223246; 21.5,0.0216537281469151; 22,0.0209612206629821;
        22.5,0.0194306100682014; 23,0.0203414381273996; 23.5,0.0212363959086874;
        24,0.0213109231392455; 24.5,0.0237929245580359; 25,0.0222920018259508;
        25.5,0.0216133076430068; 26,0.0217881331442123; 26.5,0.0233578507758557;
        27,0.0213653452895985; 27.5,0.0209897409995693; 28,0.0221910529221991;
        28.5,0.0213617981379652; 29,0.020283892076746; 29.5,0.0202815853202991;
        30,0.0201425269410853; 30.5,0.0197912401051194; 31,0.0219146501584888;
        31.5,0.020726874478507; 32,0.0195466772417175; 32.5,0.018348766431944;
        33,0.0206763540755974; 33.5,0.0199645229861572; 34,0.0179276264447075;
        34.5,0.0182739882657857; 35,0.0194813131527134; 35.5,0.0184478470507212;
        36,0.018749213213467; 36.5,0.0209056336173902; 37,0.0212904407118217;
        37.5,0.0202597800041862; 38,0.0200651893804102; 38.5,0.0207677178770814;
        39,0.0196180183074362; 39.5,0.0214604102374721; 40,0.0218165727698965;
        40.5,0.0219395889814512; 41,0.0204098624016096; 41.5,0.0178912147636467;
        42,0.0175797435589504; 42.5,0.018133091868713; 43,0.0175936513979889;
        43.5,0.0184071996200026; 44,0.018764017961547; 44.5,0.0188557794275874;
        45,0.0182172818873013; 45.5,0.0180941315373275; 46,0.0185619171084906;
        46.5,0.0172274420392571; 47,0.0165735964704677; 47.5,0.0151056758895944;
        48,0.0147250307549608; 48.5,0.0157421040987189; 49,0.0152217411446205;
        49.5,0.0163766211366927; 50,0.0171483813005002; 50.5,0.0164611462995554;
        51,0.0183425527537375; 51.5,0.0175856836522157; 52,0.0170506126642414;
        52.5,0.0170708239280796; 53,0.0161279748874193; 53.5,0.0166092557634118;
        54,0.0177883270111467; 54.5,0.0143847579637002; 55,0.0162720108461941;
        55.5,0.0159311787280982; 56,0.0166234113192775; 56.5,0.0157786973126935;
        57,0.0167731875320309; 57.5,0.0162701304584653; 58,0.0158055083925843;
        58.5,0.0146296228359879; 59,0.0151073972471229; 59.5,0.015751003264133;
        60,0.0150792172688711; 60.5,0.0159474070608596; 61,0.0171066325945936;
        61.5,0.0163988106704673; 62,0.0165876617643532; 62.5,0.0164108568649508;
        63,0.0149446573556971; 63.5,0.0168045942277834; 64,0.0151400152052676;
        64.5,0.0169447567813585])
    annotation (Placement(transformation(
        extent={{-10,-10},{10,10}},
        rotation=180,
        origin={120,20})));
  Modelica.Blocks.Sources.CombiTimeTable Vreal_input(
    tableOnFile=false,
    startTime=0,
    columns={2},
    smoothness=Modelica.Blocks.Types.Smoothness.ContinuousDerivative,
    extrapolation=Modelica.Blocks.Types.Extrapolation.HoldLastPoint,
    table=[0,0.98678452266818; 0.5,0.987066530068568; 1,0.986901171670722; 1.5,
        0.986964496564506; 2,0.987149647127706; 2.5,0.986986069356487; 3,
        0.986832536984816; 3.5,0.986931620169055; 4,0.986815446788947; 4.5,
        0.986926426296942; 5,0.986928377759673; 5.5,0.986726522551883; 6,
        0.986934299597226; 6.5,0.98685878051154; 7,0.986919723120129; 7.5,
        0.98693704312456; 8,0.986791131009078; 8.5,0.986755101432814; 9,
        0.986754943256788; 9.5,0.986604030179393; 10,0.986935395693283; 10.5,
        0.986775011437094; 11,0.987172111100875; 11.5,0.986976064317649; 12,
        0.987013182407708; 12.5,0.986874982355627; 13,0.986671097573016; 13.5,
        0.986737672511726; 14,0.986685617961605; 14.5,0.986634144969517; 15,
        0.986862471434786; 15.5,0.986929132253486; 16,0.986820699514158; 16.5,
        0.986953240974025; 17,0.986916739934137; 17.5,0.986993236638345; 18,
        0.987009424780665; 18.5,0.986693151288355; 19,0.986822891073867; 19.5,
        0.98676929075983; 20,0.986780864059019; 20.5,0.98665655529142; 21,
        0.986965689712567; 21.5,0.986839318053599; 22,0.986854270309183; 22.5,
        0.986940949394649; 23,0.986811883298797; 23.5,0.986405524530902; 24,
        0.986846780485251; 24.5,0.986568614542133; 25,0.98671438797212; 25.5,
        0.986840204152568; 26,0.987002435170805; 26.5,0.986911174186099; 27,
        0.987011677640982; 27.5,0.986853664112326; 28,0.986661304463057; 28.5,
        0.986679606627628; 29,0.986702354449789; 29.5,0.98675775855754; 30,
        0.986815963456833; 30.5,0.986878427373024; 31,0.986833558259742; 31.5,
        0.986969934496793; 32,0.986938657469876; 32.5,0.986961655268359; 33,
        0.986749565573122; 33.5,0.986985649717455; 34,0.987024748998885; 34.5,
        0.986963042647745; 35,0.986829238299441; 35.5,0.986959808269226; 36,
        0.986677354286843; 36.5,0.986578662333558; 37,0.986736506829914; 37.5,
        0.986868919823364; 38,0.98687289545021; 38.5,0.986969075919013; 39,
        0.986937241954787; 39.5,0.986843540988941; 40,0.986780372867937; 40.5,
        0.986611569410137; 41,0.986699756801067; 41.5,0.986859347404224; 42,
        0.986809591255074; 42.5,0.986910286995952; 43,0.986920050981658; 43.5,
        0.986960567196979; 44,0.986953847872114; 44.5,0.986841388829526; 45,
        0.986908736530279; 45.5,0.986800293463938; 46,0.986791605157777; 46.5,
        0.986981864798142; 47,0.986882355210003; 47.5,0.987071969758118; 48,
        0.986911668080824; 48.5,0.986895968825162; 49,0.986904131981083; 49.5,
        0.986774938288708; 50,0.986872534901839; 50.5,0.986828884578836; 51,
        0.986795707091939; 51.5,0.986975546774143; 52,0.986929582192634; 52.5,
        0.987095292638672; 53,0.987166500233844; 53.5,0.986992461380845; 54,
        0.986916561326892; 54.5,0.986861335505111; 55,0.986721316340956; 55.5,
        0.98672687811924; 56,0.986826164515673; 56.5,0.986840032369846; 57,
        0.98693433610305; 57.5,0.986942757435312; 58,0.987171715894634; 58.5,
        0.987079140222267; 59,0.987016591931489; 59.5,0.98695117888137; 60,
        0.986850968476579; 60.5,0.986892672651309; 61,0.986817906149801; 61.5,
        0.986940627701457; 62,0.986882118898706; 62.5,0.986995780120965; 63,
        0.98701906942883; 63.5,0.986933801838802; 64,0.986960740626868; 64.5,
        0.986654639530185])              annotation (Placement(
        transformation(
        extent={{-10,-10},{10,10}},
        rotation=180,
        origin={120,-18})));
  OpenIPSL.Electrical.Machines.PSSE.GENSAL Gen(
    M_b=30,
    Tpd0=machineData.data.Tpd0,
    Tppd0=machineData.data.Tppd0,
    Tppq0=machineData.data.Tppq0,
    D=machineData.data.D,
    Xd=machineData.data.Xd,
    Xq=machineData.data.Xq,
    Xpd=machineData.data.Xpd,
    Xppd=machineData.data.Xppd,
    Xppq=machineData.data.Xppq,
    Xl=machineData.data.Xl,
    S10=machineData.data.S10,
    S12=machineData.data.S12,
    R_a=machineData.data.R_a,
    H=machineData.data.H,
    angle_0=machineData.data.A_0,
    Q_0=0.07332*30,
    V_0=machineData.data.V_0,
    P_0=machineData.data.P_0)
    annotation (Placement(transformation(extent={{-72,-12},{-48,12}})));
  Modelica.Blocks.Interfaces.RealOutput Pout
    annotation (Placement(transformation(extent={{48,-54},{56,-46}}),  iconTransformation(
          extent={{48,-54},{56,-46}})));
  Modelica.Blocks.Interfaces.RealOutput Qout
    annotation (Placement(transformation(extent={{64,-54},{72,-46}})));
  Modelica.Blocks.Sources.Constant const3(k=0.983690311612942)
    annotation (Placement(transformation(extent={{164,-26},{144,-6}})));
  Modelica.Blocks.Sources.Constant const2(k=0)
    annotation (Placement(transformation(extent={{164,4},{144,24}})));
  Modelica.Blocks.Sources.Constant const4(k=0)
    annotation (Placement(transformation(extent={{-44,-22},{-50,-16}})));
equation
  Pout = Gen.P;
  Qout = Gen.Q;
  connect(const.y, sT5B.VUEL) annotation (Line(points={{-69.5,-69},{-57.5,-69},{
          -57.5,-38}},                                                                          color={0,0,127}));
  connect(const1.y, sT5B.VOEL) annotation (Line(points={{-69.5,-51},{-60.5,-51},
          {-60.5,-38}},                                                                          color={0,0,127}));
  connect(Gen.p, bus.p)
    annotation (Line(points={{-48,0},{-8,0}}, color={0,0,255}));
  connect(sT5B.ECOMP, Gen.ETERM) annotation (Line(points={{-54,-28},{-40,
          -28},{-40,-3.6},{-46.8,-3.6}},
                               color={0,0,127}));
  connect(sT5B.XADIFD, Gen.XADIFD) annotation (Line(points={{-54,-31},{
          -42,-31},{-42,-10.8},{-47.04,-10.8}},
                                       color={0,0,127}));
  connect(sT5B.EFD0, Gen.EFD0) annotation (Line(points={{-54,-34.5},{-34,
          -34.5},{-34,-6},{-46.8,-6}},
                                color={0,0,127}));
  connect(Gen.PMECH, Gen.PMECH0) annotation (Line(points={{-74.4,6},{-86,
          6},{-86,16},{-36,16},{-36,6},{-46.8,6}},
                                           color={0,0,127}));
  connect(Vreal_input.y[1], voltageSource.u2) annotation (Line(points={{109,-18},
          {100,-18},{100,-4},{68,-4}}, color={0,0,127}));
  connect(Vim_input.y[1], voltageSource.u1) annotation (Line(points={{109,20},{
          100,20},{100,4},{68,4}},
                               color={0,0,127}));
  connect(Gen.EFD, sT5B.EFD) annotation (Line(points={{-74.4,-6},{-80,-6},
          {-80,-28},{-74.5,-28}}, color={0,0,127}));
  connect(sT5B.VOTHSG, const4.y) annotation (Line(points={{-54,-23.5},{
          -52,-23.5},{-52,-19},{-50.3,-19}}, color={0,0,127}));
  connect(voltageSource.p, bus.p)
    annotation (Line(points={{45,0},{-8,0}}, color={0,0,255}));
  annotation (Diagram(coordinateSystem(preserveAspectRatio=false, extent={{-100,
            -80},{140,60}}),
        graphics={
        Rectangle(extent={{42,-42},{76,-58}}, lineColor={28,108,200})}),
      experiment(StopTime=213.5, __Dymola_NumberOfIntervals=5000),
    Icon(coordinateSystem(extent={{-100,-80},{140,60}})));
end System_all_controls_tables;
